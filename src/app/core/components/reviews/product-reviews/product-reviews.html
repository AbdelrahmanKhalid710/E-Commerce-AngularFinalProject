<section class="reviews mt-5">
<h4>Reviews</h4>

 <!-- Add Review -->
  <div class="mb-4 border p-3 rounded">
    <h6 class="fw-bold">Add Your Review</h6>
    <div class="mb-2">
      <label class="form-label">Rating</label>
      <select class="form-select" [(ngModel)]="rating">
        @for (r of [1,2,3,4,5]; track r) {
          <option [value]="r">{{ r }}</option>
        }
      </select>
    </div>

    <textarea class="form-control mb-2"
              [(ngModel)]="comment"
              placeholder="Write your review here..."
              rows="3"></textarea>

    <button class="btn btn-primary" (click)="addReview()">Submit</button>
  </div>

  @if(reviews.length === 0){
    <p class="text-muted">No reviews were added to this product yet.</p>
  }@else {
    <div class="list-group">
      @for(review of reviews; track review.id){
        <div class="list-group-item">
          <div class="d-flex justify-content-between">
            <strong>{{review.userName}}</strong>
            <small class="text-muted">{{review.createdAt | date:'short'}}</small>
          </div>
          <div>
          ‚≠ê   {{review.rating}}/5
          </div>
          <p class="mb-1">{{review.comment}}</p>
          @if (review.userId === userId) {
            <button class="btn btn-sm btn-outline-danger" (click)="deletReview(review.id)">Delete</button>
          }
        </div>
      }
    </div>
  }
</section>